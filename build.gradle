plugins {
    id "java-library"
    id "eclipse"
    id "com.palantir.launch-config" version "1.2.0"
}

repositories {
    mavenCentral()
}

dependencies {
	implementation project(":minecraft-auth-api")
	implementation "com.google.code.gson:gson:2.8.6"
	implementation "net.sf.jopt-simple:jopt-simple:5.0.4"
	implementation "org.apache.logging.log4j:log4j-core:2.14.1"
	implementation "org.apache.logging.log4j:log4j-iostreams:2.14.1"
}

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(8)
	}
}

task runDownloader(type: JavaExec) {
	main "net.hycrafthd.minecraft_downloader.Main"
	args "--version", "1.16.5", "--output", "download", "--launch", "--run", "game", "--username", "xyz", "--password", "xyz"
	classpath sourceSets.main.runtimeClasspath
	def run = new File("$rootDir/run")
	if(!run.exists() ) {
		run.mkdirs()
	}
	workingDir run
}